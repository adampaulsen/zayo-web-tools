<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maintenance Schedule Date Comparator</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">
        ðŸŒ™
    </button>

    <div class="container">
        <div class="header">
            <h1>Maintenance Schedule Date Comparator</h1>
            <p>Compare your reference date/time against maintenance schedules with timezone support</p>
        </div>

        <div class="content">
            <div class="input-section">
                <div class="input-group">
                    <h3>Reference Dates & Times</h3>
                    
                    <!-- Primary Reference (Mandatory) -->
                    <div class="reference-group primary">
                        <h4>Primary Reference *</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="referenceDate1">Date:</label>
                                <input type="date" id="referenceDate1" required>
                            </div>
                            <div class="form-group">
                                <label for="referenceTimeFrom1">Time From (24hr):</label>
                                <input type="text" id="referenceTimeFrom1" placeholder="HH:MM" pattern="^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$" required>
                            </div>
                            <div class="form-group">
                                <label for="referenceTimeTo1">Time To (24hr):</label>
                                <input type="text" id="referenceTimeTo1" placeholder="HH:MM" pattern="^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" id="beforeMidnightCheck" style="width: auto; margin: 0;">
                                    Event start time is before Midnight
                                </label>
                                <p style="margin-top: 8px; color: var(--text-muted); font-size: 0.9rem; margin-left: 26px;">
                                    Check this if your reference time spans across midnight (e.g., 22:00 to 06:00)
                                    <span id="autoCheckIndicator" style="display: none; color: var(--accent-color); font-style: italic;"> (Auto-detected)</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Secondary References (Optional) -->
                    <div class="reference-group secondary">
                        <h4>Additional References (Optional)</h4>
                        <p style="margin-bottom: 15px; color: var(--text-muted); font-size: 0.9rem;">
                            Additional dates will use the same time range as the primary reference.
                        </p>
                        
                        <div class="reference-item">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="referenceDate2">Date 2:</label>
                                    <input type="date" id="referenceDate2">
                                </div>
                            </div>
                        </div>

                        <div class="reference-item">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="referenceDate3">Date 3:</label>
                                    <input type="date" id="referenceDate3">
                                </div>
                            </div>
                        </div>

                        <div class="reference-item">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="referenceDate4">Date 4:</label>
                                    <input type="date" id="referenceDate4">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="referenceTimezone">Timezone:</label>
                        <select id="referenceTimezone">
                            <option value="UTC">GMT (UTC)</option>
                            <option value="Europe/Dublin">Irish Standard Time (IST)</option>
                            <option value="Europe/Paris">Central European Time (CET/CEST)</option>
                            <option value="Asia/Kolkata">India Standard Time (IST)</option>
                            <option value="America/Anchorage">Alaska Time (AKT)</option>
                            <option value="America/Los_Angeles">Pacific Time (PT)</option>
                            <option value="America/Phoenix">Arizona Time (MST - No DST)</option>
                            <option value="America/Denver">Mountain Time (MT)</option>
                            <option value="America/Chicago">Central Time (CT)</option>
                            <option value="America/New_York">Eastern Time (ET)</option>
                            <option value="America/Halifax">Atlantic Time (AT)</option>
                            <option value="Pacific/Honolulu">Hawaii Time (HST)</option>
                            <option value="Europe/London">London (GMT/BST)</option>
                            <option value="Asia/Tokyo">Tokyo (JST)</option>
                            <option value="Australia/Sydney">Sydney (AEST/AEDT)</option>
                        </select>
                    </div>
                </div>

                <div class="input-group">
                    <h3>Data Format</h3>
                    <p style="margin-bottom: 15px; color: var(--text-muted); font-size: 0.9rem;">
                        Paste maintenance schedule data from Salesforce. The tool will automatically extract dates and times.
                    </p>
                    <div style="background: var(--surface-secondary); padding: 10px; border-radius: 6px; font-size: 0.8rem; color: var(--text-primary); border: 1px solid var(--border-color);">
                        <strong>Just paste the raw table data!</strong><br>
                        â€¢ Copy the entire table from Salesforce<br>
                        â€¢ Paste directly without any editing<br>
                        â€¢ Tool automatically extracts dates and times<br>
                        â€¢ Supports: Central (SA), Mountain (SA), Eastern (SA), GMT (SA), etc.
                    </div>
                </div>

                <div class="input-group data-input">
                    <h3>Maintenance Schedule Data</h3>
                    <textarea id="dataInput" placeholder="Paste the raw table data from Salesforce here...&#10;&#10;Example:&#10;OGYX/322290//ZYO,OGYX/322299//ZYO	OGYX/322291//ZYO	TTN-0008574838	SPO-00032071 / Chicago-Joliet-Naperville, IL-IN-WI / 1 Splice Point(s)	2025-07-25				Rescheduled	Stack Infrastructure-ZNS	22:00 - 10:00 Central (SA)&#10;OQYX/404975//ZYO,OQYX/313106//ZYO	OQYX/404978//ZYO	TTN-0008601488	ME:2504-01306; FBL SA MTC	2025-07-22	2025-07-23		2025-07-31	Maintenance Stopped	Amazon Data Services, Inc WWPS	00:01 - 06:00 Central (SA)"></textarea>
                </div>
            </div>

            <div class="button-section">
                <button class="compare-btn" onclick="compareDates()">Compare Dates</button>
            </div>

            <div class="results-section" id="results" style="display: none;">
                <div class="results-header">
                    <h3>Comparison Results</h3>
                    <div id="summaryStats"></div>
                </div>
                <div id="resultsList"></div>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/dateProcessor.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/themes.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
